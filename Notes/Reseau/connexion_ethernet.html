<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Notes Reseau Connexion Ethernet" /><meta name="author" content="bipboup" /><meta property="og:locale" content="en" /><meta name="description" content="La connexion via un câble Ethernet déclenche une série de processus essentiels pour établir une communication réseau rapide et stable. De la détection du câble par la carte réseau à l’attribution d’une adresse IP, chaque étape implique une interaction entre le matériel et les protocoles réseau. Cet article détaille ces étapes pour les systèmes Linux et Windows, afin de comprendre comment les appareils réseau fonctionnent en pratique." /><meta property="og:description" content="La connexion via un câble Ethernet déclenche une série de processus essentiels pour établir une communication réseau rapide et stable. De la détection du câble par la carte réseau à l’attribution d’une adresse IP, chaque étape implique une interaction entre le matériel et les protocoles réseau. Cet article détaille ces étapes pour les systèmes Linux et Windows, afin de comprendre comment les appareils réseau fonctionnent en pratique." /><link rel="canonical" href="axelinsa.github.io/Notes/Reseau/connexion_ethernet" /><meta property="og:url" content="axelinsa.github.io/Notes/Reseau/connexion_ethernet" /><meta property="og:site_name" content="Stillwolfing’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-10-05T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Notes Reseau Connexion Ethernet" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@bipboup" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"bipboup"},"dateModified":"2024-10-07T15:27:09+02:00","datePublished":"2024-10-05T00:00:00+02:00","description":"La connexion via un câble Ethernet déclenche une série de processus essentiels pour établir une communication réseau rapide et stable. De la détection du câble par la carte réseau à l’attribution d’une adresse IP, chaque étape implique une interaction entre le matériel et les protocoles réseau. Cet article détaille ces étapes pour les systèmes Linux et Windows, afin de comprendre comment les appareils réseau fonctionnent en pratique.","headline":"Notes Reseau Connexion Ethernet","mainEntityOfPage":{"@type":"WebPage","@id":"axelinsa.github.io/Notes/Reseau/connexion_ethernet"},"url":"axelinsa.github.io/Notes/Reseau/connexion_ethernet"}</script><title>Notes | Reseau | Connexion Ethernet | Stillwolfing's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Stillwolfing's blog"><meta name="application-name" content="Stillwolfing's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/icon.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Stillwolfing's blog</a></div><div class="site-subtitle font-italic">Pwned</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/CTFs/" class="nav-link"> <i class="fa-fw fa fa-flag ml-xl-3 mr-xl-3 unloaded"></i> <span>CTFS</span> </a><li class="nav-item"> <a href="/notes/" class="nav-link"> <i class="fa-fw fas fa-sticky-note ml-xl-3 mr-xl-3 unloaded"></i> <span>NOTES</span> </a><li class="nav-item"> <a href="/sources/" class="nav-link"> <i class="fa-fw fas fa-folder-open ml-xl-3 mr-xl-3 unloaded"></i> <span>SOURCES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/AxelInsa" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://app.hackthebox.com/users/1255549" aria-label="hackthebox" target="_blank" rel="noopener"> <i class="fas fa-cube"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Notes | Reseau | Connexion Ethernet</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Notes | Reseau | Connexion Ethernet</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1728079200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 5, 2024 </em> </span> <span> Updated <em class="" data-ts="1728307629" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 7, 2024 </em> </span><div class="d-flex justify-content-between"> <span> By <em> AxelInsa </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2227 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><p>La connexion via un câble Ethernet déclenche une série de processus essentiels pour établir une communication réseau rapide et stable. De la détection du câble par la carte réseau à l’attribution d’une adresse IP, chaque étape implique une interaction entre le matériel et les protocoles réseau. Cet article détaille ces étapes pour les systèmes Linux et Windows, afin de comprendre comment les appareils réseau fonctionnent en pratique.</p><p><img data-src="/assets/img/Notes/Reseau/diagramme_connexion_ethernet.png" alt="Connexion Ethernet" data-proofer-ignore></p><h1 id="1-détection-physique-du-câble-ethernet">1. Détection Physique du Câble Ethernet</h1><p>Le processus de connexion Ethernet débute avec la détection physique du câble par la carte réseau (<code class="language-plaintext highlighter-rouge">NIC</code>).</p><p><strong>Interaction matérielle</strong> : La carte réseau surveille l’état des broches de son port RJ45. Lorsqu’un câble est inséré, un <strong>changement de tension</strong> est détecté sur les broches, signalant la présence d’un autre appareil connecté (généralement un commutateur ou un routeur).</p><p><strong>Signaux de Link Pulse</strong> : Une fois le câble détecté, la carte réseau envoie et reçoit des signaux appelés <strong>link pulse</strong>. Ces impulsions (<code class="language-plaintext highlighter-rouge">NLP</code> pour les réseaux de base et <code class="language-plaintext highlighter-rouge">FLP</code> pour les réseaux rapides) vérifient la continuité de la connexion. Ces signaux permettent de déterminer si le câble est correctement connecté à un appareil actif de l’autre côté.</p><p><strong>Interruptions matérielles (IRQ)</strong> : Lorsque la carte réseau détecte un lien actif, elle génère une <strong>interruption matérielle (IRQ)</strong> pour notifier le système d’exploitation. Cette interruption est traitée par le pilote de la carte réseau, permettant au système de prendre en compte la nouvelle connexion réseau.</p><h1 id="2-autonegotiation--négociation-de-la-vitesse-et-de-la-duplexité">2. Autonegotiation : Négociation de la Vitesse et de la Duplexité</h1><p>Après la détection du lien, la carte réseau et l’appareil connecté procèdent à une négociation des paramètres de connexion via le protocole d’autonégociation.</p><p><strong>Autonégociation (IEEE 802.3u)</strong> : Ce protocole permet aux appareils de négocier automatiquement les meilleures conditions de communication, notamment la <strong>vitesse</strong> et le <strong>mode de duplex</strong>. Ils échangent des messages de <strong>Link Pulse</strong> pour déterminer leurs capacités respectives.</p><p><strong>Négociation de la vitesse</strong> : Les cartes réseau modernes peuvent fonctionner à des vitesses variées (10 Mbps, 100 Mbps, 1 Gbps, etc.). Les deux appareils échangent leurs capacités et choisissent la vitesse la plus élevée supportée par les deux. Par exemple, si la carte réseau et le commutateur supportent 1 Gbps, ils établiront la connexion à cette vitesse.</p><p><strong>Mode Duplex</strong> : La négociation détermine également si la connexion se fera en half-duplex (où un appareil envoie ou reçoit des données, mais pas les deux simultanément) ou en full-duplex (où les deux peuvent envoyer et recevoir en même temps). Le mode full-duplex est souvent préféré pour éviter les collisions et optimiser les performances.</p><h1 id="3-activation-de-linterface-réseau-au-niveau-du-système">3. Activation de l’Interface Réseau au Niveau du Système</h1><h2 id="sous-linux"><span class="mr-2">Sous Linux</span><a href="#sous-linux" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Après le branchement d’un câble Ethernet, l’activation de l’interface réseau sous Linux est généralement automatisée, mais le processus peut varier selon la configuration du système et les outils utilisés pour la gestion réseau.</p><h3 id="avec-networkmanager"><span class="mr-2">Avec NetworkManager</span><a href="#avec-networkmanager" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>La plupart des distributions Linux de bureau modernes utilisent NetworkManager pour gérer les interfaces réseau de manière automatique. Voici ce qui se passe lorsque le câble Ethernet est branché :</p><p><strong>Détection du lien</strong> : NetworkManager détecte la présence d’un câble connecté à l’interface réseau (par exemple eth0 ou enp3s0). Cette détection repose sur les signaux de Link Pulse échangés entre la carte réseau et l’équipement de l’autre côté du câble (comme un commutateur).</p><p><strong>Activation automatique de l’interface</strong> : Si l’interface est configurée pour démarrer automatiquement (ce qui est le cas par défaut), NetworkManager envoie une commande au noyau pour activer l’interface, l’équivalent de la commande :</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ip <span class="nb">link set </span>dev eth0 up
</pre></table></code></div></div><p>À ce stade, l’interface est active et prête à envoyer et recevoir des paquets.</p><p><strong>Configuration IP via DHCP</strong> : Après l’activation de l’interface, NetworkManager tente de récupérer une adresse IP via le protocole DHCP si l’interface est configurée pour cela. Cela implique l’envoi d’une requête DHCP Discover sur le réseau pour obtenir les informations nécessaires (adresse IP, passerelle par défaut, serveurs DNS).</p><p>Si un serveur DHCP est trouvé, l’adresse IP est automatiquement attribuée à l’interface, rendant la machine accessible sur le réseau local.</p><p><strong>Surveillance de l’état de la connexion</strong> : NetworkManager continue de surveiller l’état de la connexion. Si le câble Ethernet est débranché, il désactivera automatiquement l’interface et cherchera une autre connexion disponible (comme le Wi-Fi).</p><h3 id="utilisation-de-systemd-networkd"><span class="mr-2">Utilisation de Systemd-networkd</span><a href="#utilisation-de-systemd-networkd" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Pour les systèmes sans NetworkManager, comme certains serveurs, systemd-networkd est souvent utilisé pour gérer les interfaces réseau :</p><p><strong>Configuration via fichiers .network</strong> : Les interfaces réseau peuvent être configurées dans le répertoire <code class="language-plaintext highlighter-rouge">/etc/systemd/network/</code>. Un fichier typique pour une interface Ethernet utilisant DHCP pourrait ressembler à ceci :</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>[Match]
Name=eth0

[Network]
DHCP=yes
</pre></table></code></div></div><p>Avec cette configuration, dès que le câble Ethernet est branché, systemd-networkd active automatiquement l’interface eth0 et envoie une requête DHCP pour obtenir une adresse IP.</p><p><strong>Activation automatique au démarrage</strong> : Les interfaces configurées de cette manière sont activées au démarrage du système, et leur état est surveillé en permanence par systemd-networkd, qui gère les changements de connexion.</p><h3 id="gestion-manuelle-avec-ip-et-dhclient"><span class="mr-2">Gestion manuelle avec ip et dhclient</span><a href="#gestion-manuelle-avec-ip-et-dhclient" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Sur les systèmes minimalistes ou dépourvus de services de gestion de réseau comme NetworkManager ou systemd-networkd, l’activation de l’interface doit être effectuée manuellement :</p><p><strong>Activer l’interface</strong> : Pour activer une interface nommée eth0, il faut utiliser la commande :</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>ip <span class="nb">link set </span>dev eth0 up
</pre></table></code></div></div><p>Cela rend l’interface active, mais elle n’a pas encore d’adresse IP attribuée.</p><p><strong>Obtenir une adresse IP via DHCP</strong> : Pour obtenir une adresse IP, il est possible d’utiliser le client DHCP dhclient :</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>dhclient eth0
</pre></table></code></div></div><p>Cette commande envoie une requête DHCP Discover sur le réseau pour récupérer une adresse IP, une passerelle et des serveurs DNS, comme le ferait NetworkManager.</p><p><strong>Configuration IP statique</strong> : Si une adresse IP statique est préférée, elle peut être attribuée manuellement avec :</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>ip addr add 192.168.1.100/24 dev eth0
</pre></table></code></div></div><p>Cette commande configure l’adresse IP 192.168.1.100 avec un masque de sous-réseau de 255.255.255.0 sur l’interface eth0.</p><p>Sur Linux, l’activation de l’interface réseau Ethernet après le branchement d’un câble est souvent gérée automatiquement par des services comme NetworkManager ou systemd-networkd. Ces outils simplifient la gestion réseau en configurant et surveillant les interfaces. Cependant, pour des configurations plus légères ou spécifiques aux serveurs, l’activation et la configuration peuvent être réalisées à la main, offrant ainsi un contrôle plus fin sur les paramètres réseau.</p><h2 id="sous-windows"><span class="mr-2">Sous Windows</span><a href="#sous-windows" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Après le branchement d’un câble Ethernet sur un système Windows, l’activation de l’interface réseau est largement automatisée. Windows dispose de plusieurs mécanismes pour gérer cette activation de manière transparente pour l’utilisateur, en utilisant des services intégrés et des pilotes compatibles.</p><h3 id="automatisation-via-plug-and-play-pnp"><span class="mr-2">Automatisation via Plug-and-Play (PnP)</span><a href="#automatisation-via-plug-and-play-pnp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>Détection du périphérique</strong> : Lorsque le câble Ethernet est connecté à la carte réseau, Windows détecte le changement de l’état du lien grâce à la fonctionnalité <strong>Plug-and-Play</strong> (<code class="language-plaintext highlighter-rouge">PnP</code>). Le système d’exploitation détecte l’activité sur le port Ethernet et identifie la carte réseau connectée.</p><p><strong>Chargement du pilote réseau</strong> : Si le périphérique est correctement reconnu, Windows charge le pilote de la carte réseau. Ce pilote, souvent installé automatiquement lors de la première installation de la carte réseau, permet au système de communiquer avec le matériel réseau de manière standardisée.</p><h3 id="configuration-via-ndis-network-driver-interface-specification"><span class="mr-2">Configuration via NDIS (Network Driver Interface Specification)</span><a href="#configuration-via-ndis-network-driver-interface-specification" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Windows utilise le modèle <code class="language-plaintext highlighter-rouge">NDIS</code> pour gérer les interactions entre les pilotes de la carte réseau et le système d’exploitation :</p><p><strong>Interface standardisée</strong> : NDIS fournit une interface standard entre le système d’exploitation et les pilotes de la carte réseau, ce qui permet à Windows de gérer des cartes de différents constructeurs de manière uniforme.</p><p><strong>Gestion des buffers et interruptions</strong> : Le pilote, en coopération avec NDIS, configure les buffers en mémoire pour stocker les paquets réseau entrants et sortants et gère les interruptions matérielles (IRQ) pour notifier le système lorsque des paquets sont reçus ou lorsqu’un problème survient.</p><h3 id="activation-de-linterface-réseau-par-les-services-windows"><span class="mr-2">Activation de l’interface réseau par les services Windows</span><a href="#activation-de-linterface-réseau-par-les-services-windows" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Une fois la carte réseau détectée et le pilote chargé, Windows active automatiquement l’interface réseau :</p><p><strong>Service Network Connections</strong> : Windows utilise le service Network Connections pour gérer les interfaces réseau. Ce service est responsable de l’activation des interfaces lorsqu’un lien est détecté, rendant l’interface prête à l’emploi sans intervention manuelle.</p><p><strong>Configuration IP via DHCP</strong> : Par défaut, Windows configure les interfaces Ethernet pour obtenir une adresse IP de manière dynamique via DHCP. Lorsque le service Network Connections détecte que l’interface est active, il envoie une requête DHCP Discover pour obtenir une adresse IP, un masque de sous-réseau, une passerelle et les serveurs DNS.</p><p>Si un serveur DHCP est disponible sur le réseau, il répond avec une adresse IP et d’autres paramètres, que Windows applique automatiquement à l’interface. Cela permet à la machine de devenir immédiatement accessible sur le réseau.</p><p><strong>Surveillance de l’état de la connexion</strong> : Windows continue de surveiller l’état de la connexion Ethernet via le Centre Réseau et Partage. Si le câble est débranché ou si la connexion échoue, l’interface est automatiquement désactivée et passe en mode “câble débranché”.</p><h3 id="activation-manuelle-de-linterface-réseau"><span class="mr-2">Activation manuelle de l’interface réseau</span><a href="#activation-manuelle-de-linterface-réseau" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Bien que la plupart des processus soient automatisés, il est possible pour un utilisateur d’activer ou de désactiver manuellement une interface réseau à partir de l’interface graphique ou de la ligne de commande :</p><p><strong>Interface graphique</strong> : L’utilisateur peut activer ou désactiver une interface réseau via le Panneau de configuration en accédant à :</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Panneau de configuration &gt; Réseau et Internet &gt; Connexions réseau
</pre></table></code></div></div><p>En cliquant avec le bouton droit sur l’interface Ethernet concernée, l’utilisateur peut choisir “Activer” ou “Désactiver” selon le besoin.</p><p><strong>PowerShell</strong> : Pour les utilisateurs avancés, il est possible d’activer une interface réseau via PowerShell :</p><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Enable-NetAdapter</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="s2">"Ethernet"</span><span class="w">
</span></pre></table></code></div></div><p>Cette commande active l’interface réseau nommée “Ethernet”. L’interface devient alors disponible pour envoyer et recevoir des paquets, et si elle est configurée pour utiliser DHCP, elle tente immédiatement d’obtenir une adresse IP.</p><p><strong>Invite de commande</strong> : La commande ipconfig /renew permet de forcer une requête DHCP pour obtenir une nouvelle adresse IP pour une interface active :</p><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">ipconfig</span><span class="w"> </span><span class="nx">/renew</span><span class="w">
</span></pre></table></code></div></div><p>Cette commande est utile lorsque l’interface est déjà active mais a besoin de renouveler son bail DHCP ou si le serveur DHCP n’a pas répondu correctement lors de la première demande.</p><p>Sous Windows, l’activation de l’interface réseau après le branchement d’un câble Ethernet est conçue pour être transparente et automatisée. Grâce à des services comme Plug-and-Play et Network Connections, le système d’exploitation gère l’activation, la configuration et la surveillance des interfaces réseau sans nécessiter d’intervention manuelle. Cependant, les options de configuration via PowerShell et l’interface graphique permettent de garder un contrôle manuel pour les utilisateurs avancés ou dans des situations de dépannage.</p><h1 id="4-attribution-dune-adresse-ip-via-dhcp">4. Attribution d’une Adresse IP via DHCP</h1><p>Si la machine n’a pas d’adresse IP statique préconfigurée, elle utilise le protocole <strong>DHCP</strong> (Dynamic Host Configuration Protocol) pour obtenir une adresse IP de manière dynamique.</p><p><strong>Découverte DHCP (DHCP Discover)</strong> : La machine envoie un message DHCP Discover en <strong>broadcast</strong> pour trouver un serveur DHCP sur le réseau. Ce message est diffusé à l’adresse IP spéciale 255.255.255.255 pour s’assurer qu’il est reçu par tous les appareils du réseau, et en particulier par le serveur DHCP.</p><p><strong>Offre DHCP (DHCP Offer)</strong> : Le serveur DHCP répond avec un message DHCP Offer, qui propose une adresse IP, un masque de sous-réseau, une passerelle par défaut, et les serveurs DNS.</p><p><strong>Demande DHCP (DHCP Request)</strong> : La machine répond à cette offre en envoyant un message DHCP Request en <strong>broadcast</strong>, confirmant qu’elle accepte l’adresse IP proposée. Ce processus empêche d’autres serveurs DHCP sur le réseau de tenter d’attribuer la même adresse IP à un autre appareil.</p><p><strong>Accusé de réception DHCP (DHCP Ack)</strong> : Le serveur DHCP finalise le processus en envoyant un message DHCP Ack, confirmant la réservation de l’adresse IP pour une durée déterminée (le bail DHCP). La machine configure alors son adresse IP et les autres paramètres réseau reçus.</p><h1 id="5-envoi-des-trames-arp-pour-découvrir-le-réseau">5. Envoi des Trames ARP pour Découvrir le Réseau</h1><p>Après l’activation de l’interface, la machine doit identifier les autres appareils sur le réseau local, et c’est ici qu’intervient le protocole ARP (Address Resolution Protocol).</p><p><strong>Fonctionnement de l’ARP</strong> : Chaque appareil sur un réseau local possède une adresse MAC (Media Access Control), une adresse physique unique attribuée à sa carte réseau. Pour envoyer des données à un appareil sur le même réseau, la machine doit connaître l’adresse MAC associée à l’adresse IP cible.</p><p><strong>Requête ARP</strong> : La machine envoie une trame ARP en broadcast à tous les appareils du réseau local : “Qui a l’adresse IP X ?”. Cela signifie qu’elle cherche l’adresse MAC de l’appareil ayant l’adresse IP X. Cette trame est envoyée à l’adresse MAC spéciale ff:ff:ff:ff:ff:ff, qui signifie que tous les appareils sur le réseau doivent la traiter.</p><p><strong>Réponse ARP</strong> : L’appareil qui possède l’adresse IP X répond en envoyant une trame ARP en unicast, directement à l’expéditeur, contenant son adresse MAC. Ainsi, la machine émettrice peut associer l’adresse IP à l’adresse MAC dans son cache ARP.</p><p><strong>Cache ARP</strong> : Pour éviter de refaire une requête ARP à chaque fois qu’elle souhaite communiquer avec la même adresse IP, la machine stocke cette correspondance dans un <strong>cache ARP</strong>. Ce cache a une durée de vie limitée, et les entrées expirent après un certain temps, ce qui permet de garder les informations à jour.</p><h1 id="conclusion">Conclusion</h1><p>Brancher un câble Ethernet déclenche une chaîne d’événements impliquant des interactions entre matériel, logiciels systèmes et protocoles réseau. Chaque étape contribue à l’établissement d’une connexion réseau stable et performante. Comprendre ces mécanismes en profondeur est crucial pour toute personne travaillant dans l’administration système et réseau, car cela permet de diagnostiquer des problèmes et d’optimiser les connexions réseau.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/notes/'>Notes</a>, <a href='/categories/systeme/'>Systeme</a>, <a href='/categories/r%C3%A9seau/'>Réseau</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/notes/" class="post-tag no-text-decoration" >Notes</a> <a href="/tags/systeme/" class="post-tag no-text-decoration" >Systeme</a> <a href="/tags/r%C3%A9seau/" class="post-tag no-text-decoration" >Réseau</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Notes+%7C+Reseau+%7C+Connexion+Ethernet+-+Stillwolfing%27s+blog&url=axelinsa.github.io%2FNotes%2FReseau%2Fconnexion_ethernet" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Notes+%7C+Reseau+%7C+Connexion+Ethernet+-+Stillwolfing%27s+blog&u=axelinsa.github.io%2FNotes%2FReseau%2Fconnexion_ethernet" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=axelinsa.github.io%2FNotes%2FReseau%2Fconnexion_ethernet&text=Notes+%7C+Reseau+%7C+Connexion+Ethernet+-+Stillwolfing%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/Notes/Web/server-side_request_forgery_(ssrf)">Notes | Server-Side Request Forgery (SSRF)</a><li><a href="/Notes/Web/sql_injections">Notes | SQL Injections</a><li><a href="/Notes/Reseau/connexion_ethernet">Notes | Reseau | Connexion Ethernet</a><li><a href="/Notes/Systeme/boot_process">Notes | Systeme | Processus de démarrage d'un ordinateur</a><li><a href="/Notes/Web/jwt">Notes | Web | JWT</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ctfs/">CTFs</a> <a class="post-tag" href="/tags/404ctf2023/">404CTF2023</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/fcsc2023/">FCSC2023</a> <a class="post-tag" href="/tags/intro/">Intro</a> <a class="post-tag" href="/tags/notes/">Notes</a> <a class="post-tag" href="/tags/pwn/">Pwn</a> <a class="post-tag" href="/tags/hardware/">Hardware</a> <a class="post-tag" href="/tags/crypto/">Crypto</a> <a class="post-tag" href="/tags/forensic/">Forensic</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/Notes/Systeme/boot_process"><div class="card-body"> <em class="small" data-ts="1727906400" data-df="ll" > Oct 3, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notes | Systeme | Processus de démarrage d'un ordinateur</h3><div class="text-muted small"><p> Le démarrage d’un ordinateur suit une série d’étapes essentielles qui permettent de passer du matériel allumé au système d’exploitation entièrement opérationnel. Ce processus est standardisé mais p...</p></div></div></a></div><div class="card"> <a href="/Notes/Web/lfi"><div class="card-body"> <em class="small" data-ts="1682200800" data-df="ll" > Apr 23, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notes | Web | File Inclusion</h3><div class="text-muted small"><p> LFI / RFI File inclusion occurs when the user can control the file that will be loaded by the server. LFI (Local File Inclusion) -&amp;gt; The server loads a local file. RFI (Remote File Inclusion) ...</p></div></div></a></div><div class="card"> <a href="/Notes/Web/sql_injections"><div class="card-body"> <em class="small" data-ts="1729375200" data-df="ll" > Oct 20, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notes | SQL Injections</h3><div class="text-muted small"><p> Qu’est-ce qu’une injection SQL (SQLi) ? Une injection SQL (SQLi) est une vulnérabilité web critique qui permet à un attaquant d’envoyer des requêtes malveillantes à la base de données d’une applic...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/Notes/Systeme/boot_process" class="btn btn-outline-primary" prompt="Older"><p>Notes | Systeme | Processus de démarrage d'un ordinateur</p></a> <a href="/Notes/Web/sql_injections" class="btn btn-outline-primary" prompt="Newer"><p>Notes | SQL Injections</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/AxelInsa/">AxelInsa</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ctfs/">CTFs</a> <a class="post-tag" href="/tags/404ctf2023/">404CTF2023</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/fcsc2023/">FCSC2023</a> <a class="post-tag" href="/tags/intro/">Intro</a> <a class="post-tag" href="/tags/notes/">Notes</a> <a class="post-tag" href="/tags/pwn/">Pwn</a> <a class="post-tag" href="/tags/hardware/">Hardware</a> <a class="post-tag" href="/tags/crypto/">Crypto</a> <a class="post-tag" href="/tags/forensic/">Forensic</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3"></p><button type="button" class="btn btn-primary" aria-label="Update"> </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
